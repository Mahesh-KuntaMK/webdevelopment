<!DOCTYPE html>
<html>
    <head>
        <title>document</title>
   
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
        <link defer href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

    </head>
    <style>
        fieldset{
             margin-bottom: 20px;
             border-color: bisque;
        }
    </style>
           <body style="background-color: bisque;">
            <div class="container";> 
             
                 <form action="#"  onsubmit="register(event)" >
                     <fieldset class="field" style="border:1px;">
                        <h1 style="color: orange;text-align: center;">Book A Call</h1>

                        <p style ="text-align: center;">Fill the Form <p>
                            <hr>

                      <label class="form-label" for="name">Name:</label>
                      <input class="form-control" required type="text" id="name" name="username">
                      <label class="form-label" for="Email">EMail:</label>
                      <input class="form-control" required type="text" id="Email" name="EMAIL">
                      <label class="form-label" for="Phone">Phone Number</label>
                      <input class="form-control" required type="phone" id="phone" name="PHONE">
                      <label class="form-label" for="date">Date:</label>
                      <input class="form-control" required type="date" id="date" name="DATE">
                      <label class="form-label" for="time">Time:</label>
                      <input class="form-control" required type="time" id="time" name="TIME"><br><br>
                     
                      <input type="submit" style="width: 100%;background-color:lightgreen; color:white" value="Click on to submit">
                      </fieldset>
                      <fieldset style="border: 6px;border-color:black">
                        <legend>User Data</legend>
                        <div id="datadisplay"></div>
                      </fieldset>

                 </form>
               
             
            </div>
            <script>
                function register(event){
                    event.preventDefault();
                //     localStorage.setItem('Username',event.target.username.value)
                //   localStorage.setItem('Email',event.target.EMAIL.value);
                //   localStorage.setItem('Phone number',event.target.PHONE.value);   
                //   localStorage.setItem('Date',event.target.DATE.value);
                //   localStorage.setItem('Time',event.target.TIME.value);

          let userdata={
            name:event.target.username.value,
            email:event.target.EMAIL.value,
            Number:event.target.PHONE.value,
            Date:event.target.DATE.value,
            Time:event.target.TIME.value
           }
// this code is stores user data in only one key so when we enter next user datailes the new detailes will be overides the old userdata ;
//           let obj_serialized=JSON.stringify(userdata);
//           localStorage.setItem("userData",obj_serialized);
//           let obj_deserialzed=JSON.parse(localStorage.getItem("userData"));
//           console.log(obj_deserialzed);

               
                //this code is stores user  data in username for different key as its own username so it will store in local storage as many differnt users ;
          let obj_serialized=JSON.stringify(userdata);
          localStorage.setItem(event.target.username.value,obj_serialized);
          let obj_deserialzed=JSON.parse(localStorage.getItem(event.target.username.value));
          console.log(obj_deserialzed);


                }
               // let key=localStorage.getItem(event.target.username.value);

                for(let i=0;i<localStorage.length;i++){
                    let key=localStorage.key(i);
                   let value=localStorage.getItem(key);
                   let div=document.getElementById('datadisplay');
                   div.innerHTML+=`${key} :${value}<br />`;
                }

                
     </script>
    
           </body>
   

</html>
